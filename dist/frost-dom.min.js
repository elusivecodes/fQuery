!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e:Object.assign(t,e(t))}(this||window,(function(t){"use strict";if(!t)throw new Error("FrostDOM requires a Window.");if(!("Core"in t))throw new Error("FrostDOM requires FrostCore.");const e=t.Core,s=t.document;let r;class o{constructor(s){this._options=e.extend({},this.constructor.defaults,s),this._options.url||(this._options.url=t.location.href),this._options.cache||(this._options.url=this.constructor.appendQueryString(this._options.url,"_",Date.now())),!("Content-Type"in this._options.headers)&&this._options.contentType&&(this._options.headers["Content-Type"]=this._options.contentType),null===this._options.isLocal&&(this._options.isLocal=this.constructor._localRegExp.test(location.protocol)),this._options.isLocal||"X-Requested-With"in this._options.headers||(this._options.headers["X-Requested-With"]="XMLHttpRequest"),this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this.promise=new Promise(((t,e)=>{this._resolve=e=>{this._isResolved=!0,t(e)},this._reject=t=>{this._isRejected=!0,e(t)}})),this._build(),this._events(),this._send()}cancel(t="Request was cancelled"){this._isResolved||this._isRejected||this._isCancelled||(this._xhr.abort(),this._isCancelled=!0,this._options.rejectOnCancel&&this._reject({status:this._xhr.status,xhr:this._xhr,reason:t}))}catch(t){return this.promise.catch(t)}finally(t){return this.promise.finally(t)}then(t,e){return this.promise.then(t,e)}}class i{constructor(){this.data={headers:{}},this.status=200,this.timeout=0,this.upload={},this._response="Test"}abort(){clearTimeout(this._uploadTimer),clearTimeout(this._progressTimer),clearTimeout(this._completeTimer)}open(t,e,s=!0,r,o){this.data.method=t,this.data.url=e,this.data.async=s,this.data.username=r,this.data.password=o}overrideMimeType(t){this.data.mimeType=t}send(t=null){this.data.body=t,this.responseType&&(this.data.responseType=this.responseType),this.timeout&&(this.data.timeout=this.timeout),this.upload&&this.upload.onprogress&&(this._uploadTimer=setTimeout((t=>{this._uploadTimer=null;const e=new Event("progress");e.loaded=5e3,e.total=1e4,this.upload.onprogress(e)}),10)),this.onprogress&&(this._progressTimer=setTimeout((t=>{this._progressTimer=null;const e=new Event("progress");e.loaded=500,e.total=1e3,this.onprogress(e)}),10)),this._completeTimer=setTimeout((t=>{if(this._completeTimer=null,this.forceError){if(this.onerror){const t=new Event("error");this.onerror(t)}}else if(this.data.status=this.status,this.response=this._response,this.onload){const t=new Event("load");this.onload(t)}}),20)}setRequestHeader(t,e){this.data.headers[t]=e}}Object.assign(o.prototype,{_build(){this._xhr=this.constructor.useMock?new i:new XMLHttpRequest,this._xhr.open(this._options.method,this._options.url,!0,this._options.username,this._options.password);for(const t in this._options.headers)this._xhr.setRequestHeader(t,this._options.headers[t]);this._options.responseType&&(this._xhr.responseType=this._options.responseType),this._options.mimeType&&this._xhr.overrideMimeType(this._options.mimeType),this._options.timeout&&(this._xhr.timeout=this._options.timeout)},_events(){this._xhr.onload=t=>{this._xhr.status>400?this._reject({status:this._xhr.status,xhr:this._xhr,event:t}):this._resolve({response:this._xhr.response,xhr:this._xhr,event:t})},this._isLocal||(this._xhr.onerror=t=>this._reject({status:this._xhr.status,xhr:this._xhr,event:t})),this._options.onProgress&&(this._xhr.onprogress=t=>this._options.onProgress(t.loaded/t.total,this._xhr,t)),this._options.onUploadProgress&&(this._xhr.upload.onprogress=t=>this._options.onUploadProgress(t.loaded/t.total,this._xhr,t))},_send(){this._options.beforeSend&&this._options.beforeSend(this._xhr),this._options.data&&this._options.processData&&e.isObject(this._options.data)&&("application/json"===this._options.contentType?this._options.data=JSON.stringify(this._options.data):"application/x-www-form-urlencoded"===this._options.contentType?this._options.data=this.constructor._parseParams(this._options.data):this._options.data=this.constructor._parseFormData(this._options.data)),this._xhr.send(this._options.data),this._options.afterSend&&this._options.afterSend(this._xhr)}}),Object.assign(o,{appendQueryString(e,s,r){const o=(t.location.origin+t.location.pathname).replace(/\/$/,""),i=new URL(e,o);i.searchParams.append(s,r);let n=i.toString();if(n.substring(0,e.length)===e)return n;const a=n.indexOf(e);return n.substring(a)},_parseFormData(t){const e=this._parseValues(t),s=new FormData;for(const[t,r]of e)"[]"===t.substring(t.length-2)?s.append(t,r):s.set(t,r);return s},_parseParams(t){const e=this._parseValues(t).map((([t,e])=>`${t}=${e}`)).join("&");return encodeURI(e)},_parseValue(t,s){if(e.isArray(s)){"[]"!==t.substring(t.length-2)&&(t+="[]");const e=[];for(const r of s)e.push(...this._parseValue(t,r));return e}if(e.isObject(s)){const e=[];for(const r in s)e.push(...this._parseValue(`${t}[${r}]`,s[r]));return e}return[[t,s]]},_parseValues(t){if(e.isArray(t)){const e=[];for(const s of t)e.push(...this._parseValue(s.name,s.value));return e}if(e.isObject(t)){const e=[];for(const s in t)e.push(...this._parseValue(s,t[s]));return e}return t}}),Object.assign(o,{defaults:{afterSend:null,beforeSend:null,cache:!0,contentType:"application/x-www-form-urlencoded",data:null,headers:{},isLocal:null,method:"GET",onProgress:null,onUploadProgress:null,processData:!0,rejectOnCancel:!0,responseType:null,url:null},useMock:!1,_localRegExp:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/}),Object.setPrototypeOf(o.prototype,Promise.prototype);class n{constructor(t,e,r){this._node=t,this._callback=e,this._options={...this.constructor.defaults,...r},"start"in this._options||(this._options.start=s.timeline?s.timeline.currentTime:performance.now()),this._options.debug&&(this._node.dataset.animationStart=this._options.start),this.promise=new Promise(((t,e)=>{this._resolve=t,this._reject=e})),this.constructor._animations.has(t)?this.constructor._animations.get(t).push(this):this.constructor._animations.set(t,[this])}catch(t){return this.promise.catch(t)}finally(t){return this.promise.finally(t)}stop(t=!0){const e=this.constructor._animations.get(this._node).filter((t=>t!==this));e.length?this.constructor._animations.set(this._node,e):this.constructor._animations.delete(this._node),this.update(!0,t)}then(t,e){return this.promise.then(t,e)}update(t=!1,r=!1){if(t&&!r)return this._reject(this._node),!0;const o=s.timeline?s.timeline.currentTime:performance.now();let i;return r?i=1:(i=(o-this._options.start)/this._options.duration,this._options.infinite?i%=1:i=e.clamp(i),"ease-in"===this._options.type?i=i**2:"ease-out"===this._options.type?i=Math.sqrt(i):"ease-in-out"===this._options.type&&(i=i<=.5?i**2*2:1-(1-i)**2*2)),this._options.debug&&(this._node.dataset.animationNow=o,this._node.dataset.animationProgress=i),this._callback(this._node,i,this._options),i<1?void 0:(this._options.debug&&(delete this._node.dataset.animationStart,delete this._node.dataset.animationNow,delete this._node.dataset.animationProgress),this._resolve(this._node),!0)}}class a{constructor(t){this._animations=t,this.promise=Promise.all(t)}catch(t){return this.promise.catch(t)}finally(t){return this.promise.finally(t)}stop(t=!0){for(const e of this._animations)e.stop(t)}then(t,e){return this.promise.then(t,e)}}Object.assign(n,{clone(t,e){if(!this._animations.has(t))return;const s=this._animations.get(t).map((t=>new n(e,t._callback,t._options)));this._animations.set(e,s)},start(){this._animating||(this._animating=!0,this.update())},stop(t,e=!0){if(!this._animations.has(t))return;const s=this._animations.get(t);for(const t of s)t.update(!0,e);this._animations.delete(t)},update(){for(let[t,e]of this._animations)e=e.filter((t=>!t.update())),e.length?this._animations.set(t,e):this._animations.delete(t);this._animations.size?this.useTimeout?setTimeout((t=>this.update()),1e3/60):t.requestAnimationFrame((t=>this.update())):this._animating=!1}}),Object.assign(n,{defaults:{duration:1e3,type:"ease-in-out",infinite:!1,debug:!1},useTimeout:!1,_animating:!1,_animations:new Map}),Object.setPrototypeOf(n.prototype,Promise.prototype),Object.setPrototypeOf(a.prototype,Promise.prototype);class h{constructor(t=s){if(!e.isDocument(t))throw new Error("Invalid document");this._context=t}}Object.assign(h.prototype,{animate(t,e,s){const r=(t=this.parseNodes(t)).map((t=>new n(t,e,s)));return n.start(),new a(r)},stop(t,e=!0){t=this.parseNodes(t);for(const s of t)n.stop(s,e)}}),Object.assign(h.prototype,{dropIn(t,e){return this.slideIn(t,{direction:"top",...e})},dropOut(t,e){return this.slideOut(t,{direction:"top",...e})},fadeIn(t,e){return this.animate(t,((t,e)=>t.style.setProperty("opacity",e<1?e.toFixed(2):"")),e)},fadeOut(t,e){return this.animate(t,((t,e)=>t.style.setProperty("opacity",e<1?(1-e).toFixed(2):"")),e)},rotateIn(t,e){return this.animate(t,((t,e,s)=>{const r=((90-90*e)*(s.inverse?-1:1)).toFixed(2);t.style.setProperty("transform",e<1?`rotate3d(${s.x}, ${s.y}, ${s.z}, ${r}deg)`:"")}),{x:0,y:1,z:0,...e})},rotateOut(t,e){return this.animate(t,((t,e,s)=>{const r=(90*e*(s.inverse?-1:1)).toFixed(2);t.style.setProperty("transform",e<1?`rotate3d(${s.x}, ${s.y}, ${s.z}, ${r}deg)`:"")}),{x:0,y:1,z:0,...e})},slideIn(t,s){return this.animate(t,((t,s,r)=>{if(1===s)return t.style.setProperty("overflow",""),void(r.useGpu?t.style.setProperty("transform",""):(t.style.setProperty("margin-left",""),t.style.setProperty("margin-top","")));const o=e.evaluate(r.direction);let i,n,a;["top","bottom"].includes(o)?(i=r.useGpu?"Y":"margin-top",n=this.constructor._height(t),a="top"===o):(i=r.useGpu?"X":"margin-left",n=this.constructor._width(t),a="left"===o);const h=((n-n*s)*(a?-1:1)).toFixed(2);r.useGpu?t.style.setProperty("transform",`translate${i}(${h}px)`):t.style.setProperty(i,`${h}px`)}),{direction:"bottom",useGpu:!0,...s})},slideOut(t,s){return this.animate(t,((t,s,r)=>{if(1===s)return t.style.setProperty("overflow",""),void(r.useGpu?t.style.setProperty("transform",""):(t.style.setProperty("margin-left",""),t.style.setProperty("margin-top","")));const o=e.evaluate(r.direction);let i,n,a;["top","bottom"].includes(o)?(i=r.useGpu?"Y":"margin-top",n=this.constructor._height(t),a="top"===o):(i=r.useGpu?"X":"margin-left",n=this.constructor._width(t),a="left"===o);const h=(n*s*(a?-1:1)).toFixed(2);r.useGpu?t.style.setProperty("transform",`translate${i}(${h}px)`):t.style.setProperty(i,`${h}px`)}),{direction:"bottom",useGpu:!0,...s})},squeezeIn(t,s){t=this.parseNodes(t),s={direction:"bottom",useGpu:!0,...s};const r=t.map((t=>{const r=t.style.height,o=t.style.width;return t.style.setProperty("overflow","hidden"),new n(t,((t,s,i)=>{if(t.style.setProperty("height",r),t.style.setProperty("width",o),1===s)return t.style.setProperty("overflow",""),void(i.useGpu?t.style.setProperty("transform",""):(t.style.setProperty("margin-left",""),t.style.setProperty("margin-top","")));const n=e.evaluate(i.direction);let a,c;["top","bottom"].includes(n)?(a="height","top"===n&&(c=i.useGpu?"Y":"margin-top")):(a="width","left"===n&&(c=i.useGpu?"X":"margin-left"));const d=h[`_${a}`](t),u=(d*s).toFixed(2);if(t.style.setProperty(a,`${u}px`),c){const e=(d-u).toFixed(2);i.useGpu?t.style.setProperty("transform",`translate${c}(${e}px)`):t.style.setProperty(c,`${e}px`)}}),s)}));return n.start(),new a(r)},squeezeOut(t,s){t=this.parseNodes(t),s={direction:"bottom",useGpu:!0,...s};const r=t.map((t=>{const r=t.style.height,o=t.style.width;return t.style.setProperty("overflow","hidden"),new n(t,((t,s,i)=>{if(t.style.setProperty("height",r),t.style.setProperty("width",o),1===s)return t.style.setProperty("overflow",""),void(i.useGpu?t.style.setProperty("transform",""):(t.style.setProperty("margin-left",""),t.style.setProperty("margin-top","")));const n=e.evaluate(i.direction);let a,c;["top","bottom"].includes(n)?(a="height","top"===n&&(c=i.useGpu?"Y":"margin-top")):(a="width","left"===n&&(c=i.useGpu?"X":"margin-left"));const d=h[`_${a}`](t),u=(d-d*s).toFixed(2);if(t.style.setProperty(a,`${u}px`),c){const e=(d-u).toFixed(2);i.useGpu?t.style.setProperty("transform",`translate${c}(${e}px)`):t.style.setProperty(c,`${e}px`)}}),s)}));return n.start(),new a(r)}}),Object.assign(h.prototype,{clearQueue(t,e="default"){t=this.parseNodes(t);for(const s of t)this.constructor._clearQueue(s,e)},queue(t,e,s="default"){t=this.parseNodes(t);for(const r of t)this.constructor._queue(r,e,s)}}),Object.assign(h.prototype,{getAttribute(t,e){const s=this.parseNode(t);if(s)return e?s.getAttribute(e):this.constructor._getAttributes(s,e)},getDataset(t,s){const r=this.parseNode(t);if(!r)return;if(s)return s=e.camelCase(s),this.constructor._parseDataset(r.dataset[s]);const o={};for(const t in r.dataset)o[t]=this.constructor._parseDataset(r.dataset[t]);return o},getHTML(t){return this.getProperty(t,"innerHTML")},getProperty(t,e){const s=this.parseNode(t);if(s)return s[e]},getText(t){return this.getProperty(t,"textContent")},getValue(t){return this.getProperty(t,"value")},removeAttribute(t,e){t=this.parseNodes(t);for(const s of t)s.removeAttribute(e)},removeDataset(t,s){t=this.parseNodes(t);for(const r of t)s=e.camelCase(s),delete r.dataset[s]},removeProperty(t,e){t=this.parseNodes(t);for(const s of t)delete s[e]},setAttribute(t,e,s){t=this.parseNodes(t);const r=this.constructor._parseData(e,s);for(const e of t)this.constructor._setAttributes(e,r)},setDataset(t,e,s){t=this.parseNodes(t);const r=this.constructor._parseData(e,s,!0);for(const e of t)this.constructor._setDataset(e,r)},setHTML(t,e){this.empty(t),this.setProperty(t,"innerHTML",e)},setProperty(t,e,s){t=this.parseNodes(t);const r=this.constructor._parseData(e,s);for(const e of t)for(const t in r)e[t]=r[t]},setText(t,e){this.empty(t),this.setProperty(t,"textContent",e)},setValue(t,e){this.setProperty(t,"value",e)}}),Object.assign(h.prototype,{cloneData(t,e){t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0,window:!0}),e=this.parseNodes(e,{fragment:!0,shadow:!0,document:!0,window:!0});for(const s of t)for(const t of e)this.constructor._cloneData(s,t)},getData(t,e){const s=this.parseNode(t,{fragment:!0,shadow:!0,document:!0,window:!0});if(s)return this.constructor._getData(s,e)},removeData(t,e){t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0,window:!0});for(const s of t)this.constructor._removeData(s,e)},setData(t,e,s){t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0,window:!0});const r=this.constructor._parseData(e,s);for(const e of t)this.constructor._setData(e,r)}}),Object.assign(h.prototype,{center(t,e){const s=this.rect(t,e);if(s)return{x:s.left+s.width/2,y:s.top+s.height/2}},constrain(e,s){const r=this.rect(s);if(!r)return;e=this.parseNodes(e);const o=this.width(this._context,h.SCROLL_BOX)>this.width(t),i=this.height(this._context,h.SCROLL_BOX)>this.height(t);for(const t of e){const e=this.constructor._rect(t),s={};let o,i;if(e.height>r.height&&(s.height=r.height),e.width>r.width&&(s.width=r.width),e.left-r.left<0?o=e.left-r.left:e.right-r.right>0&&(o=e.right-r.right),o){const e=this.constructor._css(t,"left"),r=e&&"auto"!==e?parseFloat(e):0;s.left=r-o+"px"}if(e.top-r.top<0?i=e.top-r.top:e.bottom-r.bottom>0&&(i=e.bottom-r.bottom),i){const e=this.constructor._css(t,"top"),r=e&&"auto"!==e?parseFloat(e):0;s.top=r-i+"px"}"static"===this.constructor._css(t,"position")&&(s.position="relative"),this.constructor._setStyles(t,s)}const n=this.width(this._context,h.SCROLL_BOX)>this.width(t),a=this.height(this._context,h.SCROLL_BOX)>this.height(t);o===n&&i===a||this.constrain(e,s)},distTo(t,s,r,o){const i=this.center(t,o);if(i)return e.dist(i.x,i.y,s,r)},distToNode(t,e){const s=this.center(e);if(s)return this.distTo(t,s.x,s.y)},nearestTo(t,e,s,r){let o,i=Number.MAX_VALUE;t=this.parseNodes(t);for(const n of t){const t=this.distTo(n,e,s,r);t&&t<i&&(i=t,o=n)}return o},nearestToNode(t,e){const s=this.center(e);if(s)return this.nearestTo(t,s.x,s.y)},percentX(t,s,r,o=!0){const i=this.rect(t,r);if(!i)return;const n=(s-i.left)/i.width*100;return o?e.clampPercent(n):n},percentY(t,s,r,o=!0){const i=this.rect(t,r);if(!i)return;const n=(s-i.top)/i.height*100;return o?e.clampPercent(n):n},position(t,e){const s=this.parseNode(t);if(s)return this.constructor._forceShow(s,(t=>{const s={x:t.offsetLeft,y:t.offsetTop};if(e){let e=t;for(;e=e.offsetParent;)s.x+=e.offsetLeft,s.y+=e.offsetTop}return s}))},rect(t,e){const s=this.parseNode(t);if(s)return this.constructor._rect(s,e)}}),Object.assign(h.prototype,{getScrollX(t){const s=this.parseNode(t,{document:!0,window:!0});if(s)return e.isWindow(s)?s.scrollX:e.isDocument(s)?s.scrollingElement.scrollLeft:s.scrollLeft},getScrollY(t){const s=this.parseNode(t,{document:!0,window:!0});if(s)return e.isWindow(s)?s.scrollY:e.isDocument(s)?s.scrollingElement.scrollTop:s.scrollTop},setScroll(t,s,r){t=this.parseNodes(t,{document:!0,window:!0});for(const o of t)e.isWindow(o)?o.scroll(s,r):e.isDocument(o)?(o.scrollingElement.scrollLeft=s,o.scrollingElement.scrollTop=r):(o.scrollLeft=s,o.scrollTop=r)},setScrollX(t,s){t=this.parseNodes(t,{document:!0,window:!0});for(const r of t)e.isWindow(r)?r.scroll(s,r.scrollY):e.isDocument(r)?r.scrollingElement.scrollLeft=s:r.scrollLeft=s},setScrollY(t,s){t=this.parseNodes(t,{document:!0,window:!0});for(const r of t)e.isWindow(r)?r.scroll(r.scrollX,s):e.isDocument(r)?r.scrollingElement.scrollTop=s:r.scrollTop=s}}),Object.assign(h.prototype,{height(t,s){const r=this.parseNode(t,{document:!0,window:!0});if(r)return e.isWindow(r)?s?r.outerHeight:r.innerHeight:(e.isUndefined(s)&&(s=this.constructor.PADDING_BOX),this.constructor._height(r,s))},width(t,s){const r=this.parseNode(t,{document:!0,window:!0});if(r)return e.isWindow(r)?s?r.outerWidth:r.innerWidth:(e.isUndefined(s)&&(s=this.constructor.PADDING_BOX),this.constructor._width(r,s))}}),Object.assign(h.prototype,{addClass(t,...e){if(t=this.parseNodes(t),(e=this.constructor._parseClasses(e)).length)for(const s of t)s.classList.add(...e)},css(t,e){const s=this.parseNode(t);if(s)return this.constructor._css(s,e)},getStyle(t,s){const r=this.parseNode(t);if(!r)return;if(s)return s=e.kebabCase(s),r.style[s];const o={};for(const t of r.style)o[t]=r.style[t];return o},hide(t){this.setStyle(t,"display","none")},removeClass(t,...e){if(t=this.parseNodes(t),(e=this.constructor._parseClasses(e)).length)for(const s of t)s.classList.remove(...e)},setStyle(t,e,s,r){t=this.parseNodes(t);const o=this.constructor._parseData(e,s);for(const e of t)this.constructor._setStyles(e,o,r)},show(t){this.setStyle(t,"display","")},toggle(t){t=this.parseNodes(t);for(const e of t)e.style.setProperty("display","none"===e.style.display?"":"none")},toggleClass(t,...e){if(t=this.parseNodes(t),(e=this.constructor._parseClasses(e)).length)for(const s of t)for(const t of e)s.classList.toggle(t)}}),Object.assign(h.prototype,{getCookie(t){const e=this._context.cookie.split(";").find((e=>e.trimStart().substring(0,t.length)===t)).trimStart();return e?decodeURIComponent(e.substring(t.length+1)):null},removeCookie(t,e){if(!t)return;let s=`${t}=;expires=Thu, 01 Jan 1970 00:00:00 UTC`;e&&(e.path&&(s+=`;path=${e.path}`),e.secure&&(s+=";secure")),this._context.cookie=s},setCookie(t,e,s){if(!t)return;let r=`${t}=${e}`;if(s){if(s.expires){const t=new Date;t.setTime(t.getTime()+1e3*s.expires),r+=`;expires=${t.toUTCString()}`}s.path&&(r+=`;path=${s.path}`),s.secure&&(r+=";secure")}this._context.cookie=r}}),Object.assign(h.prototype,{mouseDragFactory(e,s,r,o=!0){return s&&o&&(s=this.constructor.debounce(s),r&&(r=this.constructor.debounce(r))),o=>{const i="touchstart"===o.type;if(e&&!1===e(o))return;i&&o.preventDefault();const n=i?"touchmove":"mousemove";if(s&&this.addEvent(t,n,s),s||r){const e=i?"touchend":"mouseup",o=a=>{r&&!1===r(a)||(i&&a.preventDefault(),this.removeEvent(t,e,o),s&&this.removeEvent(t,n,s))};this.addEvent(t,e,o)}}}}),Object.assign(h.prototype,{blur(t){const e=this.parseNode(t);e&&e.blur()},click(t){const e=this.parseNode(t);e&&e.click()},focus(t){const e=this.parseNode(t);e&&e.focus()},ready(e){"complete"!==this._context.readyState?t.addEventListener("DOMContentLoaded",e,{once:!0}):e()}}),Object.assign(h.prototype,{addEvent(t,e,s,r=!1,o,i){t=this.parseNodes(t,{shadow:!0,document:!0,window:!o});for(const n of t)for(const t of this.constructor._parseEvents(e))this.constructor._addEvent(n,t,s,r,o,i)},addEventDelegate(t,e,s,r,o=!1){this.addEvent(t,e,r,o,s)},addEventDelegateOnce(t,e,s,r,o=!1){this.addEvent(t,e,r,o,s,!0)},addEventOnce(t,e,s,r=!1){this.addEvent(t,e,s,r,null,!0)},cloneEvents(t,e){t=this.parseNodes(t,{shadow:!0,document:!0,window:!0}),e=this.parseNodes(e,{shadow:!0,document:!0,window:!0});for(const s of t)for(const t of e)this.constructor._cloneEvents(s,t)},removeEvent(t,e,s,r=null,o){t=this.parseNodes(t,{shadow:!0,document:!0,window:!o}),e=!!e&&this.constructor._parseEvents(e);for(const i of t)if(this.constructor._events.has(i))if(e)for(const t of e)this.constructor._removeEvent(i,t,s,r,o);else this.constructor._removeEvent(i,e,s,r,o)},removeEventDelegate(t,e,s,r,o=null){this.removeEvent(t,e,r,o,s)},triggerEvent(t,e,s){t=this.parseNodes(t,{shadow:!0,document:!0,window:!0}),e=this.constructor._parseEvents(e);for(const r of t)for(const t of e)this.constructor._triggerEvent(r,t,s)},triggerOne(t,e,s){const r=this.parseNode(t,{shadow:!0,document:!0,window:!0});return this.constructor._triggerEvent(r,e,s)}}),Object.assign(h.prototype,{attachShadow(t,e=!0){const s=this.parseNode(t);if(s)return s.attachShadow({mode:e?"open":"closed"})},create(t="div",s){const r=this._context.createElement(t);if(!s)return r;if("html"in s?r.innerHTML=s.html:"text"in s&&(r.textContent=s.text),"class"in s&&r.classList.add(...this.constructor._parseClasses(e.wrap(s.class))),"style"in s&&this.constructor._setStyles(r,s.style),"value"in s&&(r.value=s.value),"attributes"in s&&this.constructor._setAttributes(r,s.attributes),"properties"in s)for(const t in s.properties)r[t]=s.properties[t];if("dataset"in s){const t=this.constructor._parseData(s.dataset,null,!0);this.constructor._setDataset(r,t)}return r},createComment(t){return this._context.createComment(t)},createFragment(){return this._context.createDocumentFragment()},createRange(){return this._context.createRange()},createText(t){return this._context.createTextNode(t)},parseHTML(t){return e.wrap(this.createRange().createContextualFragment(t).children)}}),Object.assign(h.prototype,{clone(t,e){return e={deep:!0,...e},(t=this.parseNodes(t,{node:!0,fragment:!0})).map((t=>this.constructor._clone(t,e)))},detach(t){t=this.parseNodes(t,{node:!0});for(const e of t)e.remove();return t},empty(t){t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0});for(const e of t)this.constructor._empty(e)},remove(t){t=this.parseNodes(t,{node:!0});for(const e of t)this.constructor._remove(e),e.remove()},replaceAll(t,e){this.replaceWith(e,t)},replaceWith(t,s){t=this.parseNodes(t,{node:!0}),s=this.parseNodes(s,{node:!0,fragment:!0,html:!0});const r=this.createFragment();for(const t of s)r.insertBefore(t,null);s=e.wrap(r.childNodes);const o=(t=t.filter((e=>!s.includes(e)&&!t.some((t=>!t.isSameNode(e)&&t.contains(e))))))[t.length-1];for(const e of t){const t=e.parentNode;if(t)for(const r of s)t.insertBefore(e.isSameNode(o)?r:this.constructor._clone(r,{deep:!0,events:!0,data:!0,animations:!0}),e)}for(const e of t)this.constructor._remove(e),e.remove()}}),Object.assign(h.prototype,{after(t,e){t=this.parseNodes(t,{node:!0}),e=this.parseNodes(e,{node:!0,fragment:!0,html:!0}).reverse();const s=t[t.length-1];for(const r of t){const t=r.parentNode;if(t)for(const o of e)t.insertBefore(r.isSameNode(s)?o:this.constructor._clone(o,{deep:!0,events:!0,data:!0,animations:!0}),r.nextSibling)}},append(t,e){t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}),e=this.parseNodes(e,{node:!0,fragment:!0,html:!0});const s=t[t.length-1];for(const r of t)for(const t of e)r.insertBefore(r.isSameNode(s)?t:this.constructor._clone(t,{deep:!0,events:!0,data:!0,animations:!0}),null)},appendTo(t,e){this.append(e,t)},before(t,e){t=this.parseNodes(t,{node:!0}),e=this.parseNodes(e,{node:!0,fragment:!0,html:!0});const s=t[t.length-1];for(const r of t){const t=r.parentNode;if(t)for(const o of e)t.insertBefore(r.isSameNode(s)?o:this.constructor._clone(o,{deep:!0,events:!0,data:!0,animations:!0}),r)}},insertAfter(t,e){this.after(e,t)},insertBefore(t,e){this.before(e,t)},prepend(t,e){t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}),e=this.parseNodes(e,{node:!0,fragment:!0,html:!0});const s=t[t.length-1];for(const r of t){const t=r.firstChild;for(const o of e)r.insertBefore(r.isSameNode(s)?o:this.constructor._clone(o,{deep:!0,events:!0,data:!0,animations:!0}),t)}},prependTo(t,e){this.prepend(e,t)}}),Object.assign(h.prototype,{unwrap(t,s){t=this.parseNodes(t,{node:!0}),s=this.parseFilter(s);const r=[];for(const e of t){const t=e.parentNode;t&&(r.includes(t)||s&&!s(t)||r.push(t))}for(const t of r){const s=t.parentNode;if(!s)continue;const r=e.wrap(t.childNodes);for(const e of r)s.insertBefore(e,t);this.constructor._remove(t),t.remove()}},wrap(t,s){t=this.parseNodes(t,{node:!0}),s=this.parseNodes(s,{fragment:!0,html:!0});for(const r of t){const t=r.parentNode;if(!t)continue;const o=s.map((t=>this.constructor._clone(t,{deep:!0,events:!0,data:!0,animations:!0}))),i=o.slice().shift(),n=this.constructor._deepest(e.isFragment(i)?i.firstChild:i);for(const e of o)t.insertBefore(e,r);n.insertBefore(r,null)}},wrapAll(t,s){t=this.parseNodes(t,{node:!0}),s=this.parseNodes(s,{fragment:!0,html:!0});const r=this.clone(s,{events:!0,data:!0,animations:!0}),o=t[0];if(!o)return;const i=o.parentNode;if(!i)return;const n=r[0],a=this.constructor._deepest(e.isFragment(n)?n.firstChild:n);for(const t of r)i.insertBefore(t,o);for(const e of t)a.insertBefore(e,null)},wrapInner(t,s){t=this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}),s=this.parseNodes(s,{fragment:!0,html:!0});for(const r of t){const t=e.wrap(r.childNodes),o=s.map((t=>this.constructor._clone(t,{deep:!0,events:!0,data:!0,animatinos:!0}))),i=o.slice().shift(),n=this.constructor._deepest(e.isFragment(i)?i.firstChild:i);for(const t of o)r.insertBefore(t,null);for(const e of t)n.insertBefore(e,null)}}}),Object.assign(h.prototype,{query(t,s=null,r=!1){if(e.isFunction(t))return this.ready(t);const o=this.parseNodes(t,{node:!0,fragment:!0,shadow:!0,document:!0,window:!0,html:!0,context:s||this._context});return r?new c(o,this):new d(o,this)},queryMutable(t,e=null){return this.query(t,e,!0)},queryOne(t,e=null,s=!1){const r=[this.parseNode(t,{node:!0,fragment:!0,shadow:!0,document:!0,window:!0,html:!0,context:e||this._context})].filter((t=>t));return s?new c(r,this):new d(r,this)},queryOneMutable(t,e=null){return this.queryOne(t,e,!0)}}),Object.assign(h.prototype,{loadScript(t,e,s=!0){return e={src:t,type:"text/javascript",...e},s||(e.src=o.appendQueryString(e.src,"_",Date.now())),new Promise(((t,s)=>{const r=this.create("script",{attributes:e});r.onload=e=>t(),r.onerror=t=>s(),this._context.head.appendChild(r)}))},loadScripts(t,s=!0){return Promise.all(t.map((t=>e.isString(t)?this.loadScript(t,null,s):this.loadScript(null,t,s))))}}),Object.assign(h.prototype,{loadStyle(t,e,s=!0){return e={href:t,rel:"stylesheet",...e},s||(e.href=o.appendQueryString(e.href,"_",Date.now())),new Promise(((t,s)=>{const r=this.create("link",{attributes:e});r.onload=e=>t(),r.onerror=t=>s(),this._context.head.appendChild(r)}))},loadStyles(t,s=!0){return Promise.all(t.map((t=>e.isString(t)?this.loadStyle(t,null,s):this.loadStyle(null,t,s))))}}),Object.assign(h.prototype,{connected(t){return this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).filter((t=>t.isConnected))},equal(t,e){return e=this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).filter((t=>e.some((e=>t.isEqualNode(e)))))},filter(t,e){return e=this.parseFilter(e),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).filter(((t,s)=>!e||e(t,s)))},filterOne(t,e){return e=this.parseFilter(e),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).find(((t,s)=>!e||e(t,s)))||null},fixed(t){return this.parseNodes(t,{node:!0}).filter((t=>e.isElement(t)&&"fixed"===this.constructor._css(t,"position")||this.constructor._parents(t,(t=>e.isElement(t)&&"fixed"===this.constructor._css(t,"position")),!1,!0).length))},hidden(t){return this.parseNodes(t,{node:!0,document:!0,window:!0}).filter((t=>!this.constructor._isVisible(t)))},not(t,e){return e=this.parseFilter(e),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).filter(((t,s)=>e&&!e(t,s)))},notOne(t,e){return e=this.parseFilter(e),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).find(((t,s)=>e&&!e(t,s)))||null},same(t,e){return e=this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).filter((t=>e.some((e=>t.isSameNode(e)))))},visible(t){return this.parseNodes(t,{node:!0,document:!0,window:!0}).filter((t=>this.constructor._isVisible(t)))},withAnimation(t){return this.parseNodes(t).filter((t=>n._animations.has(t)))},withAttribute(t,e){return this.parseNodes(t).filter((t=>t.hasAttribute(e)))},withChildren(t){return this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}).filter((t=>!!t.childElementCount))},withClass(t,...e){return e=this.constructor._parseClasses(e),this.parseNodes(t).filter((t=>e.some((e=>t.classList.contains(e)))))},withCSSAnimation(t){return this.parseNodes(t).filter((t=>this.constructor._hasCSSAnimation(t)))},withCSSTransition(t){return this.parseNodes(t).filter((t=>this.constructor._hasCSSTransition(t)))},withData(t,e){return this.parseNodes(t,{node:!0,fragment:!0,shadow:!0,document:!0,window:!0}).filter((t=>this.constructor._hasData(t,e)))},withDescendent(t,e){return e=this.parseFilterContains(e),this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}).filter(((t,s)=>!e||e(t,s)))},withProperty(t,e){return this.parseNodes(t).filter((t=>t.hasOwnProperty(e)))}}),Object.assign(h.prototype,{find(t,s=this._context){const r=t.match(this.constructor._fastRegExp);return r?"#"===r[1]?this.findById(r[2],s):"."===r[1]?this.findByClass(r[2],s):this.findByTag(r[2],s):e.isDocument(s)||e.isElement(s)||e.isFragment(s)||e.isShadow(s)?e.wrap(s.querySelectorAll(t)):(s=this.parseNodes(s,{fragment:!0,shadow:!0,document:!0}),this.constructor._findBySelector(t,s))},findByClass(t,s=this._context){if(e.isDocument(s)||e.isElement(s))return e.wrap(s.getElementsByClassName(t));if(e.isFragment(s)||e.isShadow(s))return e.wrap(s.querySelectorAll(`.${t}`));s=this.parseNodes(s,{fragment:!0,shadow:!0,document:!0});const r=[];for(const o of s)e.merge(r,e.isFragment(o)||e.isShadow(o)?o.querySelectorAll(`.${t}`):o.getElementsByClassName(t));return s.length>1&&r.length>1?e.unique(r):r},findById(t,s=this._context){return e.isDocument(s)||e.isElement(s)||e.isFragment(s)||e.isShadow(s)?e.wrap(s.querySelectorAll(`#${t}`)):(s=this.parseNodes(s,{fragment:!0,shadow:!0,document:!0}),this.constructor._findBySelector(`#${t}`,s))},findByTag(t,s=this._context){if(e.isDocument(s)||e.isElement(s))return e.wrap(s.getElementsByTagName(t));if(e.isFragment(s)||e.isShadow(s))return e.wrap(s.querySelectorAll(t));s=this.parseNodes(s,{fragment:!0,shadow:!0,document:!0});const r=[];for(const o of s)e.merge(r,e.isFragment(o)||e.isShadow(o)?o.querySelectorAll(t):o.getElementsByTagName(t));return s.length>1&&r.length>1?e.unique(r):r},findOne(t,s=this._context){const r=t.match(this.constructor._fastRegExp);return r?"#"===r[1]?this.findOneById(r[2],s):"."===r[1]?this.findOneByClass(r[2],s):this.findOneByTag(r[2],s):e.isDocument(s)||e.isElement(s)||e.isFragment(s)||e.isShadow(s)?s.querySelector(t):(s=this.parseNodes(s,{fragment:!0,shadow:!0,document:!0})).length?this.constructor._findOneBySelector(t,s):void 0},findOneByClass(t,s=this._context){if(e.isDocument(s)||e.isElement(s))return s.getElementsByClassName(t).item(0);if(e.isFragment(s)||e.isShadow(s))return s.querySelector(`.${t}`);if((s=this.parseNodes(s,{fragment:!0,shadow:!0,document:!0})).length){for(const r of s){const s=e.isFragment(r)||e.isShadow(r)?r.querySelector(`.${t}`):r.getElementsByClassName(t).item(0);if(s)return s}return null}},findOneById(t,s=this._context){return e.isDocument(s)?s.getElementById(t):e.isElement(s)||e.isFragment(s)||e.isShadow(s)?s.querySelector(`#${t}`):(s=this.parseNodes(s,{fragment:!0,shadow:!0,document:!0})).length?this.constructor._findOneBySelector(`#${t}`,s):void 0},findOneByTag(t,s=this._context){if(e.isDocument(s)||e.isElement(s))return s.getElementsByTagName(t).item(0);if(e.isFragment(s)||e.isShadow(s))return s.querySelector(t);if((s=this.parseNodes(s,{fragment:!0,shadow:!0,document:!0})).length){for(const r of s){const s=e.isFragment(r)||e.isShadow(r)?r.querySelector(t):r.getElementsByTagName(t).item(0);if(s)return s}return null}}}),Object.assign(h.prototype,{child(t,e){return this.children(t,e,!0)},children(t,s,r=!1,o=!0){if(s=this.parseFilter(s),e.isElement(t)||e.isDocument(t)||e.isFragment(t)||e.isShadow(t))return this.constructor._children(t,s,r,o);t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0});const i=[];for(const n of t)e.merge(i,this.constructor._children(n,s,r,o));return t.length>1&&i.length>1?e.unique(i):i},closest(t,e,s){return this.parents(t,e,s,!0)},commonAncestor(t){if(!(t=this.sort(t)).length)return;if(t.some((t=>!t.parentNode)))return;const e=this.createRange();return 1===t.length?e.selectNode(t.shift()):(e.setStartBefore(t.shift()),e.setEndAfter(t.pop())),e.commonAncestorContainer},contents(t){return this.children(t,!1,!1,!1)},fragment(t){const e=this.parseNode(t);if(e)return e.content},next(t,s){if(s=this.parseFilter(s),e.isNode(t))return this.constructor._next(t,s);t=this.parseNodes(t,{node:!0});const r=[];for(const o of t)e.merge(r,this.constructor._nextAll(o,s,null,!0));return t.length>1&&r.length>1?e.unique(r):r},nextAll(t,s,r,o=!1){if(s=this.parseFilter(s),r=this.parseFilter(r),e.isNode(t))return this.constructor._nextAll(t,s,r,o);t=this.parseNodes(t,{node:!0});const i=[];for(const n of t)e.merge(i,this.constructor._nextAll(n,s,r,o));return t.length>1&&i.length>1?e.unique(i):i},offsetParent(t){return this.forceShow(t,(t=>t.offsetParent))},parent(t,s){if(s=this.parseFilter(s),e.isNode(t))return this.constructor._parent(t,s);t=this.parseNodes(t,{node:!0});const r=[];for(const o of t)e.merge(r,this.constructor._parent(o,s));return t.length>1&&r.length>1?e.unique(r):r},parents(t,s,r,o=!1){if(s=this.parseFilter(s),r=this.parseFilter(r),e.isNode(t))return this.constructor._parents(t,s,r,o);t=this.parseNodes(t,{node:!0});const i=[];for(const n of t)e.merge(i,this.constructor._parents(n,s,r,o));return t.length>1&&i.length>1?e.unique(i):i},prev(t,s){if(s=this.parseFilter(s),e.isNode(t))return this.constructor._prev(t,s);t=this.parseNodes(t,{node:!0});const r=[];for(const o of t)e.merge(r,this.constructor._prev(o,s));return t.length>1&&r.length>1?e.unique(r):r},prevAll(t,s,r,o=!1){if(s=this.parseFilter(s),r=this.parseFilter(r),e.isNode(t))return this.constructor._prevAll(t,s,r,o);t=this.parseNodes(t,{node:!0});const i=[];for(const n of t)e.merge(i,this.constructor._prevAll(n,s,r,o));return t.length>1&&i.length>1?e.unique(i):i},shadow(t){const e=this.parseNode(t);if(e)return e.shadowRoot},siblings(t,s,r=!0){if(s=this.parseFilter(s),e.isNode(t))return this.constructor._siblings(t,s,r);t=this.parseNodes(t,{node:!0});const o=[];for(const i of t)e.merge(o,this.constructor._siblings(i,s,r));return t.length>1&&o.length>1?e.unique(o):o}}),Object.assign(h.prototype,{parseFilter(t){return!!t&&(e.isFunction(t)?t:e.isString(t)?s=>e.isElement(s)&&s.matches(t):e.isNode(t)||e.isFragment(t)||e.isShadow(t)?e=>e.isSameNode(t):!!(t=this.parseNodes(t,{node:!0,fragment:!0,shadow:!0})).length&&(e=>t.includes(e)))},parseFilterContains(t){return!!t&&(e.isFunction(t)?s=>e.wrap(s.querySelectorAll("*")).some(t):e.isString(t)?e=>!!this.findOne(t,e):e.isNode(t)||e.isFragment(t)||e.isShadow(t)?e=>e.contains(t):!!(t=this.parseNodes(t,{node:!0,fragment:!0,shadow:!0})).length&&(e=>t.some((t=>e.contains(t)))))},parseNode(t,e={}){const s=this.constructor.parseNodesFactory(e);return this._parseNodesDeep(t,e.context||this._context,s,e.html,!0)},parseNodes(t,e={}){const s=this.constructor.parseNodesFactory(e);return this._parseNodesDeep(t,e.context||this._context,s,e.html)},_parseNodesDeep(t,s,r,o=!1,i=!1){if(!t)return i?null:[];if(e.isString(t)){if(o&&"<"===t.trim().charAt(0))return this.parseHTML(t);if(!i)return this.find(t,s);const e=this.findOne(t,s);return e||null}if(r(t))return i?t:[t];if(t instanceof c){if(!i)return t.get().filter(r);const e=t.get(0);return e&&r(e)?e:null}if(t instanceof HTMLCollection)return i?t.length?t.item(0):null:e.wrap(t);if(e.isArray(t)){const e=this.constructor.parseNodesFactory({node:!0,fragment:!0,shadow:!0,document:!0,window:!0});t=t.flatMap((t=>this._parseNodesDeep(t,s,e,o)))}else t=e.wrap(t);if(t.length&&(t=e.unique(t)),!i)return t.filter(r);const n=t.shift();return n&&r(n)?n:null}}),Object.assign(h.prototype,{afterSelection(e){e=this.parseNodes(e,{node:!0,fragment:!0,html:!0}).reverse();const s=t.getSelection();if(!s.rangeCount)return;const r=s.getRangeAt(0);s.removeAllRanges(),r.collapse();for(const t of e)r.insertNode(t)},beforeSelection(e){e=this.parseNodes(e,{node:!0,fragment:!0,html:!0}).reverse();const s=t.getSelection();if(!s.rangeCount)return;const r=s.getRangeAt(0);s.removeAllRanges();for(const t of e)r.insertNode(t)},extractSelection(){const s=t.getSelection();if(!s.rangeCount)return[];const r=s.getRangeAt(0);s.removeAllRanges();const o=r.extractContents();return e.wrap(o.childNodes)},getSelection(){const s=t.getSelection();if(!s.rangeCount)return[];const r=s.getRangeAt(0),o=e.wrap(r.commonAncestorContainer.querySelectorAll("*"));if(!o.length)return[r.commonAncestorContainer];if(1===o.length)return o;const i=r.startContainer,n=r.endContainer,a=e.isElement(i)?i:i.parentNode,h=e.isElement(n)?n:n.parentNode,c=o.slice(o.indexOf(a),o.indexOf(h)+1),d=[];let u;for(const t of c)u&&u.contains(t)||(u=t,d.push(t));return d},select(e){const s=this.parseNode(e,{node:!0});if(s&&"select"in s)return s.select();const r=t.getSelection();if(r.rangeCount>0&&r.removeAllRanges(),!s)return;const o=this.createRange();o.selectNode(s),r.addRange(o)},selectAll(e){e=this.sort(e);const s=t.getSelection();if(s.rangeCount&&s.removeAllRanges(),!e.length)return;const r=this.createRange();1==e.length?r.selectNode(e.shift()):(r.setStartBefore(e.shift()),r.setEndAfter(e.pop())),s.addRange(r)},wrapSelection(s){s=this.parseNodes(s,{fragment:!0,html:!0});const r=t.getSelection();if(!r.rangeCount)return;const o=r.getRangeAt(0);r.removeAllRanges();const i=o.extractContents(),n=this.constructor._deepest(s.slice().shift()),a=e.wrap(i.childNodes);for(const t of a)n.insertBefore(t,null);for(const t of s)o.insertNode(t)}}),Object.assign(h.prototype,{hasAnimation(t){return this.parseNodes(t).some((t=>n._animations.has(t)))},hasAttribute(t,e){return this.parseNodes(t).some((t=>t.hasAttribute(e)))},hasChildren(t){return this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}).some((t=>!!t.childElementCount))},hasClass(t,...e){return e=this.constructor._parseClasses(e),this.parseNodes(t).some((t=>e.some((e=>t.classList.contains(e)))))},hasCSSAnimation(t){return this.parseNodes(t).some((t=>this.constructor._hasCSSAnimation(t)))},hasCSSTransition(t){return this.parseNodes(t).some((t=>this.constructor._hasCSSTransition(t)))},hasData(t,e){return this.parseNodes(t,{fragment:!0,shadow:!0,document:!0,window:!0}).some((t=>this.constructor._hasData(t,e)))},hasDataset(t,s){return s=e.camelCase(s),this.parseNodes(t).some((t=>!!t.dataset[s]))},hasDescendent(t,e){return e=this.parseFilterContains(e),this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}).some((t=>!e||e(t)))},hasFragment(t){return this.parseNodes(t).some((t=>!!t.content))},hasProperty(t,e){return this.parseNodes(t).some((t=>t.hasOwnProperty(e)))},hasShadow(t){return this.parseNodes(t).some((t=>!!t.shadowRoot))},is(t,e){return e=this.parseFilter(e),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).some((t=>!e||e(t)))},isConnected(t){return this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).some((t=>t.isConnected))},isEqual(t,e){return e=this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).some((t=>e.some((e=>t.isEqualNode(e)))))},isFixed(t){return this.parseNodes(t,{node:!0}).some((t=>e.isElement(t)&&"fixed"===this.constructor._css(t,"position")||this.constructor._parents(t,(t=>e.isElement(t)&&"fixed"===this.constructor._css(t,"position")),!1,!0).length))},isHidden(t){return this.parseNodes(t,{node:!0,document:!0,window:!0}).some((t=>!this.constructor._isVisible(t)))},isSame(t,e){return e=this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).some((t=>e.some((e=>t.isSameNode(e)))))},isVisible(t){return this.parseNodes(t,{node:!0,document:!0,window:!0}).some((t=>this.constructor._isVisible(t)))}}),Object.assign(h.prototype,{exec(t,e=null){return this._context.execCommand(t,!1,e)},forceShow(t,e){const s=this.parseNode(t,{node:!0});if(s)return this.constructor._forceShow(s,e)},index(t){const s=this.parseNode(t,{node:!0});if(s)return e.wrap(s.parentNode.children).indexOf(s)},indexOf(t,e){return e=this.parseFilter(e),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).findIndex((t=>!e||e(t)))},normalize(t){t=this.parseNodes(t,{node:!0,fragment:!0,shadow:!0,document:!0});for(const e of t)e.normalize()},sanitize(t,e=h.allowedTags){const s=this.create("template",{html:t}),r=s.content,o=this.constructor._children(r,null,!1,!0);for(const t of o)this.constructor._sanitize(t,e);return this.getHTML(s)},serialize(t){return o._parseParams(this.serializeArray(t))},serializeArray(t){return this.parseNodes(t,{fragment:!0,shadow:!0}).reduce(((t,s)=>{if(e.isElement(s)&&s.matches("form")||e.isFragment(s)||e.isShadow(s))return t.concat(this.serializeArray(s.querySelectorAll("input, select, textarea")));if(e.isElement(s)&&s.matches("[disabled], input[type=submit], input[type=reset], input[type=file], input[type=radio]:not(:checked), input[type=checkbox]:not(:checked)"))return t;const r=s.getAttribute("name");if(!r)return t;if(e.isElement(s)&&s.matches("select[multiple]"))for(const e of s.selectedOptions)t.push({name:r,value:e.value||""});else t.push({name:r,value:s.value||""});return t}),[])},sort(t){return(t=this.parseNodes(t,{node:!0,fragment:!0,shadow:!0,document:!0,window:!0})).sort(((t,s)=>{if(e.isWindow(t))return 1;if(e.isWindow(s))return-1;if(e.isDocument(t))return 1;if(e.isDocument(s))return-1;if(e.isFragment(s))return 1;if(e.isFragment(t))return-1;if(e.isShadow(t)&&(t=t.host),e.isShadow(s)&&(s=s.host),t.isSameNode(s))return 0;const r=t.compareDocumentPosition(s);return r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS?1:0}))},tagName(t){const e=this.parseNode(t);if(e)return e.tagName.toLowerCase()}}),Object.assign(h,{ajax:t=>new o(t),delete:(t,e)=>new o({url:t,method:"DELETE",...e}),get:(t,e,s)=>new o({url:t,data:e,...s}),patch:(t,e,s)=>new o({url:t,data:e,method:"PATCH",...s}),post:(t,e,s)=>new o({url:t,data:e,method:"POST",...s}),put:(t,e,s)=>new o({url:t,data:e,method:"PUT",...s})}),Object.assign(h,{_clearQueue(t,e){const s=this._queues.get(t);if(s&&(!e||e in s)){for(const t in s)e&&t!==e||delete s[t];Object.keys(s).length||this._queues.delete(t)}},_dequeue(t,e){const s=this._queues.get(t);if(!s||!(e in s))return;const r=s[e].shift();if(!r)return this._clearQueue(t,e);Promise.resolve(r(t)).then((s=>this._dequeue(t,e))).catch((s=>this._clearQueue(t,e)))},_queue(t,e,s){this._queues.has(t)||this._queues.set(t,{});const r=this._queues.get(t),o=s in r;o||(r[s]=[t=>new Promise((t=>setTimeout(t,0)))]),r[s].push(e),o||this._dequeue(t,s)}}),Object.assign(h,{_getAttributes(t){const e={};for(const s of t.attributes)e[s.nodeName]=s.nodeValue;return e},_setAttributes(t,e){for(const s in e)t.setAttribute(s,e[s])},_setDataset(t,s){for(const r in s){const o=e.camelCase(r);t.dataset[o]=s[r]}}}),Object.assign(h,{_cloneData(t,e){this._data.has(t)&&this._setData(e,{...this._data.get(t)})},_getData(t,e){if(this._data.has(t))return e?this._data.get(t)[e]:this._data.get(t)},_removeData(t,e){if(this._data.has(t)){if(e){const s=this._data.get(t);if(delete s[e],Object.keys(s).length)return}this._data.delete(t)}},_setData(t,e){this._data.has(t)||this._data.set(t,{}),Object.assign(this._data.get(t),e)}}),Object.assign(h,{_rect(e,s){return this._forceShow(e,(e=>{const r=e.getBoundingClientRect();return s&&(r.x+=t.scrollX,r.y+=t.scrollY),r}))}}),Object.assign(h,{_height(t,s=1){return this._forceShow(t,(t=>{if(e.isDocument(t)&&(t=t.documentElement),s===this.SCROLL_BOX)return t.scrollHeight;let r=t.clientHeight;return s===this.CONTENT_BOX&&(r-=parseInt(this._css(t,"padding-top"))+parseInt(this._css(t,"padding-bottom"))),s>=this.BORDER_BOX&&(r+=parseInt(this._css(t,"border-top-width"))+parseInt(this._css(t,"border-bottom-width"))),s===this.MARGIN_BOX&&(r+=parseInt(this._css(t,"margin-top"))+parseInt(this._css(t,"margin-bottom"))),r}))},_width(t,s=1){return this._forceShow(t,(t=>{if(e.isDocument(t)&&(t=t.documentElement),s===this.SCROLL_BOX)return t.scrollWidth;let r=t.clientWidth;return s===this.CONTENT_BOX&&(r-=parseInt(this._css(t,"padding-left"))+parseInt(this._css(t,"padding-right"))),s>=this.BORDER_BOX&&(r+=parseInt(this._css(t,"border-left-width"))+parseInt(this._css(t,"border-right-width"))),s===this.MARGIN_BOX&&(r+=parseInt(this._css(t,"margin-left"))+parseInt(this._css(t,"margin-right"))),r}))}}),Object.assign(h,{_css(s,r){return this._styles.has(s)||this._styles.set(s,t.getComputedStyle(s)),r?(r=e.kebabCase(r),this._styles.get(s).getPropertyValue(r)):{...this._styles.get(s)}},_setStyles(t,s,r){for(let o in s){let i=s[o];o=e.kebabCase(o),i&&e.isNumeric(i)&&!this.cssNumberProperties.includes(o)&&(i+="px"),t.style.setProperty(o,i,r?"important":"")}}}),Object.assign(h,{_delegateFactory(t,s,r){const o=s.match(this._scopeRegExp)?this._getDelegateContainsFactory(t,s):this._getDelegateMatchFactory(t,s);return s=>{if(t.isSameNode(s.target))return;const i=o(s.target);if(!i)return;const n={};for(const t in s)n[t]=e.isFunction(s[t])?(...e)=>s[t](...e):s[t];return n.currentTarget=i,n.delegateTarget=t,n.originalEvent=s,Object.freeze(n),r(n)}},_getDelegateContainsFactory(t,s){return r=>{const o=e.wrap(t.querySelectorAll(s));return!!o.length&&(o.includes(r)?r:this._parents(r,(t=>o.includes(t)),(e=>e.isSameNode(t)),!0).shift())}},_getDelegateMatchFactory(t,e){return s=>s.matches(e)?s:this._parents(s,(t=>t.matches(e)),(e=>e.isSameNode(t)),!0).shift()},_namespaceFactory:(t,e)=>s=>{if(!("namespaceRegExp"in s)||s.namespaceRegExp.test(t))return e(s)},_preventFactory:t=>e=>{!1===t(e)&&e.preventDefault()},_selfDestructFactory(t,e,s,r,o=null){return i=>(this._removeEvent(t,e,r,o,s),r(i))}}),Object.assign(h,{_addEvent(t,e,s,r=!1,o,i){this._events.has(t)||this._events.set(t,{});const n=this._events.get(t),a={callback:s,delegate:o,selfDestruct:i,useCapture:r},h=this._parseEvent(e);let c=s;i&&(c=this._selfDestructFactory(t,e,o,c,r)),c=this._preventFactory(c),o&&(c=this._delegateFactory(t,o,c)),c=this._namespaceFactory(e,c),a.realCallback=c,a.event=e,a.realEvent=h,n[h]||(n[h]=[]),n[h].push(a),t.addEventListener(h,c,r)},_cloneEvents(t,e){if(!this._events.has(t))return;const s=this._events.get(t);for(const t in s)for(const r of s[t])this._addEvent(e,r.event,r.callback,r.useCapture,r.delegate,r.selfDestruct)},_removeEvent(t,e,s,r=null,o){if(!this._events.has(t))return;const i=this._events.get(t);if(!e){const e=Object.keys(i);for(const i of e)this._removeEvent(t,i,s,r,o);return}const n=this._parseEvent(e);i[n]&&(i[n]=i[n].filter((i=>{if(o&&o!==i.delegate||s&&s!==i.callback||null!==r&&r!==i.useCapture)return!0;if(n!==e){const t=this._eventNamespacedRegExp(e);if(!i.event.match(t))return!0}return t.removeEventListener(i.realEvent,i.realCallback,i.useCapture),!1})),i[n].length||delete i[n],Object.keys(i).length||this._events.delete(t))},_triggerEvent(t,e,s){const r=this._parseEvent(e),o=new CustomEvent(r,{bubbles:!0,cancelable:!0,...s});return r!==e&&(o.namespace=e.substring(r.length+1),o.namespaceRegExp=this._eventNamespacedRegExp(e)),t.dispatchEvent(o)}}),Object.assign(h,{debounce(t){let e;return(...s)=>{e||(e=!0,Promise.resolve().then((r=>{t(...s),e=!1})))}},_eventNamespacedRegExp:t=>new RegExp(`^${e.escapeRegExp(t)}(?:\\.|$)`,"i"),_parseClasses:t=>t.flat().flatMap((t=>t.split(" "))).filter((t=>!!t)),_parseData(t,s,r=!1){const o=e.isObject(t)?t:{[t]:s},i={};for(const t in o){const s=o[t];i[t]=r&&(e.isObject(s)||e.isArray(s))?JSON.stringify(s):s}return i},_parseDataset(t){if(e.isUndefined(t))return t;const s=t.toLowerCase().trim();if(["true","on"].includes(s))return!0;if(["false","off"].includes(s))return!1;if("null"===s)return null;if(e.isNumeric(s))return parseFloat(s);if(["{","["].includes(s.charAt(0)))try{return JSON.parse(t)}catch(t){}return t},_parseEvent:t=>t.split(".").shift(),_parseEvents:t=>t.split(" ")}),Object.assign(h,{_clone(t,e){const s=t.cloneNode(e.deep);return e.events&&this._cloneEvents(t,s),e.data&&this._cloneData(t,s),e.animations&&n.clone(t,s),e.deep&&this._deepClone(t,s,e),s},_deepClone(t,e,s){for(let r=0;r<t.childNodes.length;r++){const o=t.childNodes.item(r),i=e.childNodes.item(r);s.events&&this._cloneEvents(o,i),s.data&&this._cloneData(o,i),s.animations&&n.clone(o,i),this._deepClone(o,i,s)}},_empty(t,s=!0){const r=e.wrap(t.childNodes);for(const t of r)this._remove(t),s&&t.remove();t.shadowRoot&&this._remove(t.shadowRoot),t.content&&this._remove(t.content)},_remove(t){this._triggerEvent(t,"remove",{bubbles:!1,cancelable:!1}),this._empty(t,!1),e.isElement(t)&&(this._clearQueue(t),n.stop(t),this._styles.has(t)&&this._styles.delete(t)),this._removeEvent(t),this._removeData(t)}}),Object.assign(h,{parseHTML:t=>(new DOMParser).parseFromString(t,"text/html"),parseXML:t=>(new DOMParser).parseFromString(t,"application/xml")}),Object.assign(h,{_findBySelector(t,s){const r=[];for(const o of s)e.merge(r,o.querySelectorAll(t));return s.length>1&&r.length>1?e.unique(r):r},_findOneBySelector(t,e){for(const s of e){const e=s.querySelector(t);if(e)return e}return null}}),Object.assign(h,{_children(t,e,s=!1,r=!0){const o=r?t.children:t.childNodes,i=[];let n;for(n of o)if((!e||e(n))&&(i.push(n),s))break;return i},_deepest:t=>e.wrap(t.querySelectorAll("*")).find((t=>!t.childElementCount))||t,_next(t,s){const r=[];for(;t=t.nextSibling;)if(e.isElement(t)){s&&!s(t)||r.push(t);break}return r},_nextAll(t,s,r,o=!1){const i=[];for(;t=t.nextSibling;)if(e.isElement(t)){if(r&&r(t))break;if((!s||s(t))&&(i.push(t),o))break}return i},_parent(t,e){const s=[],r=t.parentNode;return r?(e&&!e(r)||s.push(r),s):s},_parents(t,s,r,o=!1){const i=[];for(;(t=t.parentNode)&&!e.isDocument(t)&&(!r||!r(t))&&(s&&!s(t)||(i.unshift(t),!o)););return i},_prev(t,s){const r=[];for(;t=t.previousSibling;)if(e.isElement(t)){s&&!s(t)||r.push(t);break}return r},_prevAll(t,s,r,o=!1){const i=[];for(;t=t.previousSibling;)if(e.isElement(t)){if(r&&r(t))break;if((!s||s(t))&&(i.unshift(t),o))break}return i},_siblings(t,e,s=!0){const r=[],o=t.parentNode;if(!o)return r;const i=s?o.children:o.childNodes;let n;for(n of i)t.isSameNode(n)||e&&!e(n)||r.push(n);return r}}),Object.assign(h,{parseNodesFactory:t=>t?s=>(t.node?e.isNode(s):e.isElement(s))||t.fragment&&e.isFragment(s)||t.shadow&&e.isShadow(s)||t.document&&e.isDocument(s)||t.window&&e.isWindow(s):e.isElement}),Object.assign(h,{_hasCSSAnimation(t){return!!parseFloat(this._css(t,"animation-duration"))},_hasCSSTransition(t){return!!parseFloat(this._css(t,"transition-duration"))},_hasData(t,e){return this._data.has(t)&&(!e||this._data.get(t).hasOwnProperty(e))},_isVisible:t=>e.isWindow(t)?"visible"===t.document.visibilityState:e.isDocument(t)?"visible"===t.visibilityState:!!t.offsetParent}),Object.assign(h,{_forceShow(t,s){if(this._isVisible(t))return s(t);const r=[];e.isElement(t)&&"none"===this._css(t,"display")&&r.push(t),e.merge(r,this._parents(t,(t=>e.isElement(t)&&"none"===this._css(t,"display"))));const o=new Map;for(const t of r)o.set(t,t.getAttribute("style")),t.style.setProperty("display","initial","important");const i=s(t);for(const[t,e]of o)e?t.setAttribute("style",e):(t.getAttribute("style"),t.removeAttribute("style"));return i},_sanitize(t,e=this.allowedTags){const s=t.tagName.toLowerCase();if(!(s in e))return t.remove();const r=[];"*"in e&&e["*"].length&&r.push(...e["*"]),e[s].length&&r.push(...e[s]);const o=this._getAttributes(t);for(const e in o){!!r.find((t=>e.match(t)))||t.removeAttribute(e)}const i=this._children(t,null,!1,!0);for(const t of i)this._sanitize(t,e)}}),Object.assign(h,{_queues:new WeakMap,_data:new WeakMap,_events:new WeakMap,_styles:new WeakMap,allowedTags:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},cssNumberProperties:["font-weight","line-height","opacity","orphans","scale","widows","z-index"],CONTENT_BOX:0,PADDING_BOX:1,BORDER_BOX:2,MARGIN_BOX:3,SCROLL_BOX:4,_fastRegExp:/^([\#\.]?)([\w\-]+)$/,_scopeRegExp:/(?:^\s*\:scope|\,(?=(?:(?:[^"']*["']){2})*[^"']*$)\s*\:scope)/});class c{constructor(t,e=r){this._dom=e,this._nodes=t}get length(){return this._nodes.length}pushNode(t){return this.pushStack([t].filter((t=>t)))}pushStack(t){return this._nodes=t,this}}class d extends c{pushStack(t){return new d(t)}}return Object.assign(c.prototype,{animate(t,e){return this.queue((s=>this._dom.animate(s,t,e)))},stop(t=!0){return this.clearQueue(),this._dom.stop(this,t),this}}),Object.assign(c.prototype,{dropIn(t){return this.queue((e=>this._dom.dropIn(e,t)))},dropOut(t){return this.queue((e=>this._dom.dropOut(e,t)))},fadeIn(t){return this.queue((e=>this._dom.fadeIn(e,t)))},fadeOut(t){return this.queue((e=>this._dom.fadeOut(e,t)))},rotateIn(t){return this.queue((e=>this._dom.rotateIn(e,t)))},rotateOut(t){return this.queue((e=>this._dom.rotateOut(e,t)))},slideIn(t){return this.queue((e=>this._dom.slideIn(e,t)))},slideOut(t){return this.queue((e=>this._dom.slideOut(e,t)))},squeezeIn(t){return this.queue((e=>this._dom.squeezeIn(e,t)))},squeezeOut(t){return this.queue((e=>this._dom.squeezeOut(e,t)))}}),Object.assign(c.prototype,{clearQueue(t="default"){return this._dom.clearQueue(this,t),this},delay(t,e="default"){return this.queue((e=>new Promise((e=>setTimeout(e,t)))),e)},queue(t,e="default"){return this._dom.queue(this,t,e),this}}),Object.assign(c.prototype,{getAttribute(t){return this._dom.getAttribute(this,t)},getDataset(t){return this._dom.getDataset(this,t)},getHTML(){return this._dom.getHTML(this)},getProperty(t){return this._dom.getProperty(this,t)},getText(){return this._dom.getText(this)},getValue(){return this._dom.getValue(this)},removeAttribute(t){return this._dom.removeAttribute(this,t),this},removeDataset(t){return this._dom.removeDataset(this,t),this},removeProperty(t){return this._dom.removeProperty(this,t),this},setAttribute(t,e){return this._dom.setAttribute(this,t,e),this},setDataset(t,e){return this._dom.setDataset(this,t,e),this},setHTML(t){return this._dom.setHTML(this,t),this},setProperty(t,e){return this._dom.setProperty(this,t,e),this},setText(t){return this._dom.setText(this,t),this},setValue(t){return this._dom.setValue(this,t),this}}),Object.assign(c.prototype,{cloneData(t){return this._dom.cloneData(this,t),this},getData(t){return this._dom.getData(this,t)},removeData(t){return this._dom.removeData(this,t),this},setData(t,e){return this._dom.setData(this,t,e),this}}),Object.assign(c.prototype,{center(t){return this._dom.center(this,t)},constrain(t){return this._dom.constrain(this,t),this},distTo(t,e,s){return this._dom.distTo(this,t,e,s)},distToNode(t){return this._dom.distToNode(this,t)},nearestTo(t,e,s){const r=this._dom.nearestTo(this,t,e,s);return new this.constructor([r].filter((t=>t)))},nearestToNode(t){const e=this._dom.nearestToNode(this,t);return new this.constructor([e].filter((t=>t)))},percentX(t,e,s=!0){return this._dom.percentX(this,t,e,s)},percentY(t,e,s=!0){return this._dom.percentY(this,t,e,s)},position(t){return this._dom.position(this,t)},rect(t){return this._dom.rect(this,t)}}),Object.assign(c.prototype,{getScrollX(){return this._dom.getScrollX(this)},getScrollY(){return this._dom.getScrollY(this)},setScroll(t,e){return this._dom.setScroll(this,t,e),this},setScrollX(t){return this._dom.setScrollX(this,t),this},setScrollY(t){return this._dom.setScrollY(this,t),this}}),Object.assign(c.prototype,{height(t){return this._dom.height(this,t)},width(t){return this._dom.width(this,t)}}),Object.assign(c.prototype,{addClass(...t){return this._dom.addClass(this,...t),this},css(t){return this._dom.css(this,t)},getStyle(t){return this._dom.getStyle(this,t)},hide(){return this._dom.hide(this),this},removeClass(...t){return this._dom.removeClass(this,...t),this},setStyle(t,e,s){return this._dom.setStyle(this,t,e,s),this},show(){return this._dom.show(this),this},toggle(){return this._dom.toggle(this),this},toggleClass(...t){return this._dom.toggleClass(this,...t),this}}),Object.assign(c.prototype,{blur(){return this._dom.blur(this),this},click(){return this._dom.click(this),this},focus(){return this._dom.focus(this),this}}),Object.assign(c.prototype,{addEvent(t,e,s=!1){return this._dom.addEvent(this,t,e,s),this},addEventDelegate(t,e,s,r=!1){return this._dom.addEventDelegate(this,t,e,s,r),this},addEventDelegateOnce(t,e,s,r=!1){return this._dom.addEventDelegateOnce(this,t,e,s,r),this},addEventOnce(t,e,s=!1){return this._dom.addEventOnce(this,t,e,s),this},cloneEvents(t){return this._dom.cloneEvents(this,t),this},removeEvent(t,e,s=null){return this._dom.removeEvent(this,t,e,s),this},removeEventDelegate(t,e,s,r=null){return this._dom.removeEventDelegate(this,t,e,s,r),this},triggerEvent(t,e){return this._dom.triggerEvent(this,t,e),this},triggerOne(t,e){return this._dom.triggerOne(this,t,e)}}),Object.assign(c.prototype,{attachShadow(t=!0){const e=[],s=this._dom.attachShadow(this,t);return s&&e.push(s),new this.constructor(e,this._dom)}}),Object.assign(c.prototype,{clone(t){return new this.constructor(this._dom.clone(this,t))},detach(){return this._dom.detach(this),this},empty(){return this._dom.empty(this),this},remove(){return this._dom.remove(this),this.pushStack([])},replaceAll(t){return this._dom.replaceAll(this,t),this},replaceWith(t){return this._dom.replaceWith(this,t),this}}),Object.assign(c.prototype,{after(t){return this._dom.after(this,t),this},append(t){return this._dom.append(this,t),this},appendTo(t){return this._dom.appendTo(this,t),this},before(t){return this._dom.before(this,t),this},insertAfter(t){return this._dom.insertAfter(this,t),this},insertBefore(t){return this._dom.insertBefore(this,t),this},prepend(t){return this._dom.prepend(this,t),this},prependTo(t){return this._dom.prependTo(this,t),this}}),Object.assign(c.prototype,{unwrap(t){return this._dom.unwrap(this,t),this},wrap(t){return this._dom.wrap(this,t),this},wrapAll(t){return this._dom.wrapAll(this,t),this},wrapInner(t){return this._dom.wrapInner(this,t),this}}),Object.assign(c.prototype,{connected(){return this.pushStack(this._dom.connected(this))},equal(t){return this.pushStack(this._dom.equal(this,t))},filter(t){return this.pushStack(this._dom.filter(this,t))},filterOne(t){return this.pushNode(this._dom.filterOne(this,t))},fixed(){return this.pushStack(this._dom.fixed(this))},hidden(){return this.pushStack(this._dom.hidden(this))},not(t){return this.pushStack(this._dom.not(this,t))},notOne(t){return this.pushNode(this._dom.notOne(this,t))},same(t){return this.pushStack(this._dom.same(this,t))},visible(){return this.pushStack(this._dom.visible(this))},withAnimation(){return this.pushStack(this._dom.withAnimation(this))},withAttribute(t){return this.pushStack(this._dom.withAttribute(this,t))},withChildren(){return this.pushStack(this._dom.withChildren(this))},withClass(t){return this.pushStack(this._dom.withClass(this,t))},withCSSAnimation(){return this.pushStack(this._dom.withCSSAnimation(this))},withCSSTransition(){return this.pushStack(this._dom.withCSSTransition(this))},withData(t){return this.pushStack(this._dom.withData(this,t))},withDescendent(t){return this.pushStack(this._dom.withDescendent(this,t))},withProperty(t){return this.pushStack(this._dom.withProperty(this,t))}}),Object.assign(c.prototype,{find(t){return this.pushStack(this._dom.find(t,this))},findByClass(t){return this.pushStack(this._dom.findByClass(t,this))},findById(t){return this.pushStack(this._dom.findById(t,this))},findByTag(t){return this.pushStack(this._dom.findByTag(t,this))},findOne(t){return this.pushNode(this._dom.findOne(t,this))},findOneByClass(t){return this.pushNode(this._dom.findOneByClass(t,this))},findOneById(t){return this.pushNode(this._dom.findOneById(t,this))},findOneByTag(t){return this.pushNode(this._dom.findOneByTag(t,this))}}),Object.assign(c.prototype,{child(t){return this.pushStack(this._dom.child(this,t))},children(t){return this.pushStack(this._dom.children(this,t))},closest(t,e){return this.pushStack(this._dom.closest(this,t,e))},commonAncestor(){return this.pushNode(this._dom.commonAncestor(this))},contents(){return this.pushStack(this._dom.contents(this))},fragment(){return this.pushNode(this._dom.fragment(this))},next(t){return this.pushStack(this._dom.next(this,t))},nextAll(t,e){return this.pushStack(this._dom.nextAll(this,t,e))},offsetParent(){return this.pushNode(this._dom.offsetParent(this))},parent(t){return this.pushStack(this._dom.parent(this,t))},parents(t,e){return this.pushStack(this._dom.parents(this,t,e))},prev(t){return this.pushStack(this._dom.prev(this,t))},prevAll(t,e){return this.pushStack(this._dom.prevAll(this,t,e))},shadow(){return this.pushNode(this._dom.shadow(this))},siblings(t){return this.pushStack(this._dom.siblings(this,t))}}),Object.assign(c.prototype,{afterSelection(){return this._dom.afterSelection(this),this},beforeSelection(){return this._dom.beforeSelection(this),this},select(){return this._dom.select(this),this},selectAll(){return this._dom.selectAll(this),this},wrapSelection(){return this._dom.wrapSelection(this),this}}),Object.assign(c.prototype,{hasAnimation(){return this._dom.hasAnimation(this)},hasAttribute(t){return this._dom.hasAttribute(this,t)},hasChildren(){return this._dom.hasChildren(this)},hasClass(...t){return this._dom.hasClass(this,...t)},hasCSSAnimation(){return this._dom.hasCSSAnimation(this)},hasCSSTransition(){return this._dom.hasCSSTransition(this)},hasData(t){return this._dom.hasData(this,t)},hasDataset(t){return this._dom.hasDataset(this,t)},hasDescendent(t){return this._dom.hasDescendent(this,t)},hasFragment(){return this._dom.hasFragment(this)},hasProperty(t){return this._dom.hasProperty(this,t)},hasShadow(){return this._dom.hasShadow(this)},is(t){return this._dom.is(this,t)},isConnected(){return this._dom.isConnected(this)},isEqual(t){return this._dom.isEqual(this,t)},isFixed(){return this._dom.isFixed(this)},isHidden(){return this._dom.isHidden(this)},isSame(t){return this._dom.isSame(this,t)},isVisible(){return this._dom.isVisible(this)}}),Object.assign(c.prototype,{add(t,s=null){return this.pushStack(e.unique(e.merge([],this._nodes,this._dom.query(t,s).get()))).sort()},each(t){return this._nodes.forEach(((e,s)=>t(e,s))),this},eq(t){return this.pushNode(this.get(t))},first(){return this.eq(0)},forceShow(t){return this._dom.forceShow(this,t)},get(t=null){return null===t?this._nodes:t<0?this._nodes[t+this._nodes.length]:this._nodes[t]},index(){return this._dom.index(this)},indexOf(t){return this._dom.indexOf(this,t)},last(){return this.eq(-1)},map(t){return new this.constructor(this._nodes.map(((e,s)=>t(e,s))))},normalize(){return this._dom.normalize(this),this},serialize(){return this._dom.serialize(this)},serializeArray(){return this._dom.serializeArray(this)},slice(t,e){return new this.constructor(this._nodes.slice(t,e))},sort(){return this.pushStack(this._dom.sort(this))},tagName(){return this._dom.tagName(this)},[Symbol.iterator](){return this._nodes.values()}}),r=new h,{AjaxRequest:o,Animation:n,AnimationSet:a,DOM:h,dom:r,QuerySet:c,QuerySetImmutable:d}}));